<div class="form-layout-inner">
  <div class="form-container">
    <form class="form" [formGroup]="form">
      <mat-chip-listbox multiple *ngIf="!isLoading" formControlName="interestsChips">
        <mat-chip-option *ngFor="let interest of interests">
          {{ interest.title }}{{ (interest.selected) ? '✅' : '' }}
        </mat-chip-option>
      </mat-chip-listbox>

      <p *ngIf="!isLoading" class="mat-typography text-red-500 text-center text-xs m-0">
        {{ formErrorMessage || interestsChipsErrorMessage }}
      </p>
      <div *ngIf="isLoading" class="spinner"><mat-spinner></mat-spinner></div>

      <button 
        type="submit" 
        mat-raised-button
        class="mt-2"
        color="primary" 
        [disabled]="isLoading || form.invalid || interestsChips?.value.length == 0"
        (click)="proceed()"
      >
        Продолжить</button>
    </form>
  </div>
</div>
