<mat-form-field>
  <mat-label>Поиск</mat-label>
  <input matInput (keyup)="applyFilter($event)"  #input>
</mat-form-field>

<mat-spinner class="spinner"[diameter]="65"  *ngIf="isLoading"></mat-spinner>
<div class="mat-elevation-z8" *ngIf="!isLoading">
  <table  mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef >Имя</th>
      <td  mat-cell *matCellDef="let user">{{ user.firstName }}</td>
    </ng-container>

    <ng-container matColumnDef="surname">
      <th mat-header-cell *matHeaderCellDef>Фамилия</th>
      <td mat-cell *matCellDef="let user">{{ user.lastName }}</td>
    </ng-container>

    <ng-container matColumnDef="mail">
      <th mat-header-cell *matHeaderCellDef >Почта</th>
      <td mat-cell *matCellDef="let user">{{ user.mail }}</td>
    </ng-container>

    <ng-container matColumnDef="rating">
      <th mat-header-cell *matHeaderCellDef>Рейтинг</th>
      <td mat-cell *matCellDef="let user">{{ user.rating }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Действия</th>
      <td mat-cell *matCellDef="let user">
        <button
          mat-stroked-button
          color="primary"
          (click)="onAdminClick(user.id)"
          class="relative right-0 m-1">
          {{user.isAdmin ? "Удалить из админов" : "Назначить админом"}}
        </button>
        <button
          mat-stroked-button
          color="warn"
          (click)="onBanClick(user.id)"
          class="relative right-0 m-1">
          Заблокировать
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row;columns:displayedColumns"></tr>
  </table>
</div>
